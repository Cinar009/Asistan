<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asistan - Akıllı Dijital Yardımcı</title>
    <link rel="icon" type="image/png" href="/static/favicon.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <style>
        :root {
            --bg-color: #f7f7f7; --container-bg: #ffffff; --text-color: #1f2937; --subtle-text: #6b7280; --border-color: #e5e7eb; --user-message-bg: #3B82F6; --assistant-message-bg: #f3f4f6; --input-bg: #f9fafb; --input-border: #d1d5db; --send-button-bg: #2563eb; --send-button-hover-bg: #1d4ed8; --send-button-shadow: rgba(37, 99, 235, 0.3); --loading-dot-color: #2563eb;
        }
        html.dark { /* .dark sınıfını html etiketine taşıdık */
            --bg-color: #111827; --container-bg: #1f2937; --text-color: #f3f4f6; --subtle-text: #9ca3af; --border-color: #374151; --user-message-bg: #4f46e5; --assistant-message-bg: #374151; --input-bg: #111827; --input-border: #4b5563; --send-button-bg: #4f46e5; --send-button-hover-bg: #4338ca; --send-button-shadow: rgba(79, 70, 229, 0.3); --loading-dot-color: #4f46e5;
        }
        body { font-family: 'Inter', sans-serif; background-color: var(--bg-color); color: var(--text-color); transition: background-color 0.3s ease, color 0.3s ease; }
        .container { background-color: var(--container-bg); border: 1px solid var(--border-color); transition: background-color 0.3s ease, border-color 0.3s ease; }
        #response-area { display: flex; flex-direction: column; gap: 1rem; overflow-y: auto; scroll-behavior: smooth; }
        .message { max-width: 85%; padding: 0.75rem 1rem; border-radius: 1.25rem; line-height: 1.5; font-size: 0.95rem; word-wrap: break-word; white-space: pre-wrap; transition: background-color 0.3s ease, color 0.3s ease; }
        .message.user { background-color: var(--user-message-bg); color: white; align-self: flex-end; border-bottom-right-radius: 0.5rem; box-shadow: 0 4px 8px var(--send-button-shadow); }
        .message.assistant { background-color: var(--assistant-message-bg); color: var(--text-color); align-self: flex-start; border-bottom-left-radius: 0.5rem; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05); }
        #response-area::-webkit-scrollbar { width: 8px; } #response-area::-webkit-scrollbar-track { background: var(--container-bg); border-radius: 10px; } #response-area::-webkit-scrollbar-thumb { background: var(--border-color); border-radius: 10px; } #response-area::-webkit-scrollbar-thumb:hover { background: var(--subtle-text); }
        #response-area { scrollbar-width: thin; scrollbar-color: var(--border-color) var(--container-bg); }
        .animation-delay-200 { animation-delay: 0.2s; } .animation-delay-400 { animation-delay: 0.4s; }
        .material-symbols-rounded { font-variation-settings: 'FILL' 1, 'wght' 400, 'GRAD' 0, 'opsz' 24; vertical-align: middle;} /* Varsayılan ağırlık 400 */
        .input-area-wrapper { background: linear-gradient(180deg, rgba(255,255,255,0) 0%, var(--container-bg) 30%); }
        html.dark .input-area-wrapper { background: linear-gradient(180deg, rgba(31,41,55,0) 0%, var(--container-bg) 30%); }
        .input-area textarea { background-color: var(--input-bg); border-color: var(--input-border); color: var(--text-color); transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease; }
        .input-area textarea:focus { border-color: #2563eb; box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.2); }
        .input-area button { background-color: var(--send-button-bg); transition: background-color 0.3s ease, transform 0.1s ease, box-shadow 0.3s ease; box-shadow: 0 4px 10px var(--send-button-shadow); }
        .input-area button:hover { background-color: var(--send-button-hover-bg); }
        .input-area button:disabled { background-color: #9ca3af; cursor: not-allowed; transform: none; box-shadow: none;} /* Gönder butonu pasifken */
        .loading-dot { background-color: var(--loading-dot-color); transition: background-color 0.3s ease; }
        .header-text { color: var(--text-color); } .subheader-text { color: var(--subtle-text); }
        #logo-dark { display: none; } html.dark #logo-light { display: none; } html.dark #logo-dark { display: block; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .message-animate { animation: fadeInUp 0.4s ease-out forwards; }
        .like-button { transition: transform 0.2s ease; }
        .like-button:hover { transform: scale(1.1); }
        .like-button:disabled .material-symbols-rounded { color: #22c55e !important; opacity: 1 !important;} /* Beğenilince yeşil */
        .like-button .error-icon { color: #ef4444 !important; opacity: 1 !important;} /* Hata olunca kırmızı */
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-2 sm:p-4 antialiased">
    <div class="container relative rounded-2xl shadow-2xl flex flex-col h-full sm:h-[95vh] max-h-[900px] w-full max-w-3xl overflow-hidden">
        
        <div class="flex items-center justify-between p-4 border-b border-[var(--border-color)] flex-shrink-0">
            <div class="flex items-center space-x-3">
                <div class="w-10 h-10"> <img src="/static/logo-dark-text.png" alt="Asistan Logo" id="logo-light" class="w-10 h-10">
                    <img src="/static/logo-light-text.png" alt="Asistan Logo" id="logo-dark" class="w-10 h-10">
                </div>
                <h1 class="text-xl sm:text-2xl font-bold header-text tracking-tight">Asistan</h1>
            </div>
            <button id="theme-toggle" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors duration-200 text-gray-600 dark:text-gray-300">
                <span class="material-symbols-rounded">dark_mode</span>
            </button>
        </div>

        <div id="response-area" class="flex-grow p-4 sm:p-6">
            <div class="message assistant">Merhaba! Ben Asistan. Size nasıl yardımcı olabilirim?</div>
        </div>

        <div class="input-area-wrapper px-4 pt-3 pb-4 sm:px-6 sm:pt-4 sm:pb-6 flex-shrink-0">
            <div id="loading" class="hidden flex justify-center items-center h-6 mb-2">
                <div class="w-2 h-2 rounded-full animate-pulse loading-dot mx-1"></div>
                <div class="w-2 h-2 rounded-full animate-pulse loading-dot mx-1 animation-delay-200"></div>
                <div class="w-2 h-2 rounded-full animate-pulse loading-dot mx-1 animation-delay-400"></div>
            </div>
            <div class="input-area flex items-end gap-2 sm:gap-3">
                <textarea id="prompt-input" rows="1" placeholder="Asistan'a bir şey sorun..." class="flex-grow resize-none overflow-hidden max-h-48 p-3 sm:p-4 text-base rounded-2xl focus:outline-none focus:ring-2 transition-all duration-200 shadow-sm border"></textarea>
                <button id="send-button" class="text-white w-12 h-12 sm:w-14 sm:h-14 rounded-full flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 active:scale-95 flex-shrink-0">
                    <span class="material-symbols-rounded">send</span>
                </button>
            </div>
        </div>
    </div>
    <script src="/static/script.js"></script>
</body>
</html>